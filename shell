(venv) C:\Users\tzama\news-portal-begining-main>new>py manage.py shell

user1 = User.objects.create(username='Сергей', first_name='Савельев')
user2 = User.objects.create(username='Семён', first_name='Березовский')
author1 = Author.objects.create(author_user=user1)
author2 = Author.objects.create(author_user=user2)
category_it = Category.objects.create(name='IT')
category_education = Category.objects.create(name='Education')
category_news = Category.objects.create(name='News')
category_more = Category.objects.create(name='Extra')
post1 = Post.objects.create(author=author1, category_type='NE', title='Наипервешая новость', text='Первой новостью будет то, что я создал первую новость!')
post2 = Post.objects.create(author=author1, category_type='AR', title='Не долго ждали', text='Ну, конечно, за первой новостью должна быть вторая! И! Вот она!')
post3 = Post.objects.create(author=author2, category_type='AR', title='Второй Автор', text='Как ни странно, но вторым автором получился ментор. да, не в обиду будет это ему.')
post1.post_category.add(category_news)
post2.post_category.add(category_education, category_news)
post3.post_category.add(category_it, category_education)
comment1 = Comment.objects.create(comment_user=user2, comment_post=post1, text='Поздавляю с первой новостью!')
comment2 = Comment.objects.create(comment_user=user2, comment_post=post2, text='Продолжай в томже духе!')
comment3 = Comment.objects.create(comment_user=user1, comment_post=post3, text='огромная благодарность за Вашу работу!')
comment4 = Comment.objects.create(comment_user=user1, comment_post=post1, text='я очень старался...')
post1.like()
post1.like()
post1.like()
post1.dislike()
post1.like()
post1.like()
post1.dislike()
post1.like()
post1.like()
comment1.like()
comment2.like()
comment3.like()
comment3.dislike()
author1.update_rating()
author2.update_rating()
best_rating = Author.objects.all().order_by('-rating_author').values('author_user', 'rating_author')[0]
print(User.objects.get(pk=best_rating['author_user']), best_rating['rating_author'])
best_posts_author = Post.objects.filter(author_id=best_rating['author_user']).order_by('-rating')[0]
print(f'дата создания: {best_posts_author.date_creation}\nАвтор: {User.objects.get(pk=best_posts_author.author_id)}\nрейтинг статьи: {best_posts_author.rating}\nЗаголовок: {best_posts_author.title}\nСодержимое:\n{best_posts_author.preview()}')
comments_of_best_post = Comment.objects.filter(comment_post_id=best_posts_author.id)
for post in comments_of_best_post:
    print("Автор комментария:", User.objects.get(pk=post.comment_user_id), "(создан:", post.date_creation, ")")
    print(post.text)
    print("отметили:", post.rating, "человек", "\n")